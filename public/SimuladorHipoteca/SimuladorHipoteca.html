<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Simulador Hipoteca | Banco SÃ¡nchez</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>

  <body>
    <div class="layout">
      <div id="sidebar-container"></div>

      <main class="main-panel">
        <div class="page-wrapper">
          <header class="brand-header">
            <img
              src="/photos/logo%20sin%20fondo.png"
              alt="Banco SÃ¡nchez"
              class="brand-logo"
            />
            <h1 class="brand-name">Banco SÃ¡nchez</h1>
          </header>

          <p class="greeting">Hola, <span id="user-name">usuario</span> ðŸ‘‹</p>

          <div class="card panel-card panel-card--wide">
            <h2 class="card-title">Simulador de hipoteca</h2>
            <p class="card-subtitle">
              Calcula tu cuota mensual, intereses y coste total (estimaciÃ³n).
            </p>

            <div
              class="panel-grid"
              style="grid-template-columns: 1.15fr 1fr; margin-top: 24px"
            >
              <section class="info-card">
                <h2>Resumen rÃ¡pido</h2>

                <div class="info-line">
                  <span>LTV (Loan To Value)</span>
                  <span class="info-value" id="ltv">â€”</span>
                </div>
                <div class="info-line">
                  <span>Entrada estimada</span>
                  <span class="info-value" id="downpayment">â€”</span>
                </div>
                <div class="info-line">
                  <span>Importe a financiar</span>
                  <span class="info-value" id="loan">â€”</span>
                </div>

                <button class="ghost-btn" id="reset" style="margin-top: 12px">
                  Reiniciar
                </button>
              </section>     
            </div>

            <section class="transfer-section" style="margin-top: 24px">
              <div class="transfer-header">
                <h2>Datos de la vivienda</h2>
                <p>Rellena los datos para calcular la cuota.</p>
              </div>

              <form
                id="mortgage-form"
                class="transfer-form"
                style="
                  grid-template-columns:
                    minmax(0, 1.2fr) minmax(0, 1fr)
                    minmax(0, 1fr) auto;
                "
              >
                <div class="transfer-field">
                  <label for="price">Precio vivienda (â‚¬)</label>
                  <input
                    type="number"
                    id="price"
                    min="30000"
                    step="1000"
                    placeholder="200000"
                    required
                  />
                </div>

                <div class="transfer-field">
                  <label for="down">Entrada (â‚¬)</label>
                  <input
                    type="number"
                    id="down"
                    min="0"
                    step="500"
                    placeholder="40000"
                    required
                  />
                </div>

                <div class="transfer-field">
                  <label for="years">Plazo (aÃ±os)</label>
                  <input
                    type="number"
                    id="years"
                    min="5"
                    max="40"
                    step="1"
                    placeholder="30"
                    required
                  />
                </div>

                <button type="submit" class="primary-btn small-btn">
                  Calcular
                </button>

                <div class="transfer-field">
                  <label for="rate">InterÃ©s (TIN %)</label>
                  <input
                    type="number"
                    id="rate"
                    min="0"
                    max="15"
                    step="0.1"
                    placeholder="3.2"
                    required
                  />
                </div>

                <div class="transfer-field">
                  <label for="mortgage-type">Tipo</label>

                  <div class="select-wrap">
                    <select id="mortgage-type" required>
                      <option value="fixed">Fija</option>
                      <option value="variable">Variable</option>
                    </select>
                    <span class="select-arrow">â–¾</span>
                  </div>
                </div>

                <div class="transfer-field">
                  <label for="income">Ingresos mensuales (â‚¬)</label>
                  <input
                    type="number"
                    id="income"
                    min="0"
                    step="50"
                    placeholder="2000"
                  />
                </div>
              </form>

              <p id="mortgage-message" class="transfer-message"></p>

              <div
                class="panel-grid"
                style="grid-template-columns: 1fr 1fr; margin-top: 16px"
              >
                <div class="info-card">
                  <h2>Resultado</h2>

                  <div class="info-line">
                    <span>Cuota mensual</span>
                    <span class="info-value" id="fee">â€”</span>
                  </div>
                  <div class="info-line">
                    <span>Intereses totales</span>
                    <span class="info-value" id="interest">â€”</span>
                  </div>
                  <div class="info-line">
                    <span>Coste total</span>
                    <span class="info-value" id="total">â€”</span>
                  </div>
                </div>

                <div class="info-card">
                  <h2>Salud financiera</h2>
                  <div class="info-line">
                    <span>Ratio cuota/ingresos</span>
                    <span class="info-value" id="ratio">â€”</span>
                  </div>

                  <div
                    id="health-note"
                    style="
                      margin-top: 10px;
                      opacity: 0.85;
                      font-size: 0.95rem;
                      line-height: 1.35;
                    "
                  >
                    Introduce tus ingresos para estimar el ratio.
                </div>
                </div>
              </div>
            </section>

            <div
              style="
                margin-top: 16px;
                opacity: 0.75;
                font-size: 0.85rem;
                text-align: center;
              "
            >
              *CÃ¡lculo estimado. No constituye oferta vinculante ni
              asesoramiento financiero.
            </div>
          </div>
        </div>
      </main>

      <div id="right-rail-container"></div>
    </div>

    <script src="/MenuIzquierdo/MenuIzquierdo.js"></script>
    <script src="/ParaTi/ParaTi.js"></script>

    <script src="/SimuladorHipoteca/SimuladorHipoteca.js"></script>

    <script>
      const stored = localStorage.getItem("userName");
      document.getElementById("user-name").textContent = stored || "Jorge";
    </script>
  </body>
</html>
