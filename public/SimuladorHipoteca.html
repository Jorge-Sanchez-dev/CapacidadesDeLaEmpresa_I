<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Simulador Hipoteca | Banco S√°nchez</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>

  <body>
    <div class="layout">
      <!-- SIDEBAR -->
      <div id="sidebar-container"></div>

      <!-- MAIN -->
      <main class="main-panel">
        <div class="page-wrapper">
          <!-- BRAND -->
          <header class="brand-header">
            <img
              src="/photos/logo%20sin%20fondo.png"
              alt="Banco S√°nchez"
              class="brand-logo"
            />
            <h1 class="brand-name">Banco S√°nchez</h1>
          </header>

          <!-- SALUDO -->
          <p class="greeting">
            Hola, <span id="user-name">usuario</span> üëã
          </p>

          <!-- CARD PRINCIPAL -->
          <div class="card panel-card panel-card--wide">
            <h2 class="card-title">Simulador de hipoteca</h2>
            <p class="card-subtitle">
              Calcula tu cuota mensual, intereses y coste total (estimaci√≥n).
            </p>

            <!-- RESUMEN + CONSEJOS -->
            <div
              class="panel-grid"
              style="grid-template-columns: 1.15fr 1fr; margin-top: 24px;"
            >
              <section class="info-card">
                <h2>Resumen r√°pido</h2>

                <div class="info-line">
                  <span>LTV (financiaci√≥n)</span>
                  <span class="info-value" id="ltv">‚Äî</span>
                </div>
                <div class="info-line">
                  <span>Entrada estimada</span>
                  <span class="info-value" id="downpayment">‚Äî</span>
                </div>
                <div class="info-line">
                  <span>Importe a financiar</span>
                  <span class="info-value" id="loan">‚Äî</span>
                </div>

                <button class="ghost-btn" id="reset" style="margin-top: 12px;">
                  Reiniciar
                </button>
              </section>

              <section class="info-card">
                <h2>Consejo</h2>
                <div
                  style="
                    opacity: 0.85;
                    font-size: 0.95rem;
                    line-height: 1.35;
                  "
                >
                  Intenta que la cuota no supere el <b>30%</b> de tus ingresos
                  mensuales. Y que tu ‚Äúentrada‚Äù no sea un ‚Äúme lo invento‚Äù üòÑ
                </div>

                <button
                  class="primary-btn small-btn"
                  id="save-sim"
                  style="margin-top: 14px;"
                >
                  Guardar simulaci√≥n
                </button>
              </section>
            </div>

            <!-- SIMULADOR -->
            <section class="transfer-section" style="margin-top: 24px;">
              <div class="transfer-header">
                <h2>Datos de la vivienda</h2>
                <p>Rellena los datos para calcular la cuota.</p>
              </div>

              <form
                id="mortgage-form"
                class="transfer-form"
                style="
                  grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr)
                    minmax(0, 1fr) auto;
                "
              >
                <div class="transfer-field">
                  <label for="price">Precio vivienda (‚Ç¨)</label>
                  <input
                    type="number"
                    id="price"
                    min="30000"
                    step="1000"
                    placeholder="200000"
                    required
                  />
                </div>

                <div class="transfer-field">
                  <label for="down">Entrada (‚Ç¨)</label>
                  <input
                    type="number"
                    id="down"
                    min="0"
                    step="500"
                    placeholder="40000"
                    required
                  />
                </div>

                <div class="transfer-field">
                  <label for="years">Plazo (a√±os)</label>
                  <input
                    type="number"
                    id="years"
                    min="5"
                    max="40"
                    step="1"
                    placeholder="30"
                    required
                  />
                </div>

                <button type="submit" class="primary-btn small-btn">
                  Calcular
                </button>

                <div class="transfer-field">
                  <label for="rate">Inter√©s (TIN %)</label>
                  <input
                    type="number"
                    id="rate"
                    min="0"
                    max="15"
                    step="0.1"
                    placeholder="3.2"
                    required
                  />
                </div>

                <div class="transfer-field">
                  <label for="type">Tipo</label>
                  <div class="select-wrapper">
                    <select id="type">
                      <option value="fixed" selected>Fija</option>
                      <option value="variable">Variable (estimaci√≥n)</option>
                    </select>
                  </div>
                </div>

                <div class="transfer-field">
                  <label for="income">Ingresos mensuales (‚Ç¨)</label>
                  <input
                    type="number"
                    id="income"
                    min="0"
                    step="50"
                    placeholder="2000"
                  />
                </div>
              </form>

              <p id="mortgage-message" class="transfer-message"></p>

              <!-- RESULTADOS -->
              <div
                class="panel-grid"
                style="grid-template-columns: 1fr 1fr; margin-top: 16px;"
              >
                <div class="info-card">
                  <h2>Resultado</h2>

                  <div class="info-line">
                    <span>Cuota mensual</span>
                    <span class="info-value" id="fee">‚Äî</span>
                  </div>
                  <div class="info-line">
                    <span>Intereses totales</span>
                    <span class="info-value" id="interest">‚Äî</span>
                  </div>
                  <div class="info-line">
                    <span>Coste total</span>
                    <span class="info-value" id="total">‚Äî</span>
                  </div>
                </div>

                <div class="info-card">
                  <h2>Salud financiera</h2>
                  <div class="info-line">
                    <span>Ratio cuota/ingresos</span>
                    <span class="info-value" id="ratio">‚Äî</span>
                  </div>

                  <div
                    id="health-note"
                    style="
                      margin-top: 10px;
                      opacity: 0.85;
                      font-size: 0.95rem;
                      line-height: 1.35;
                    "
                  >
                    Introduce tus ingresos para estimar el ratio.
                  </div>

                  <button class="ghost-btn" id="copy" style="margin-top: 14px;">
                    Copiar resultado
                  </button>
                </div>
              </div>
            </section>

            <!-- NOTA LEGAL -->
            <div
              style="
                margin-top: 16px;
                opacity: 0.75;
                font-size: 0.85rem;
                text-align: center;
              "
            >
              *C√°lculo estimado. No constituye oferta vinculante ni asesoramiento
              financiero.
            </div>
          </div>
        </div>
      </main>

      <!-- ANUNCIOS DERECHA (reutilizables) -->
      <div id="right-rail-container"></div>
    </div>

    <!-- Sidebar -->
    <script src="/js/loadSidebar.js"></script>

    <!-- Anuncios reutilizables -->
    <script src="/js/loadRightRail.js"></script>

    <!-- JS de esta p√°gina -->
    <script src="/simuladorHipoteca.js"></script>

    <!-- Nombre usuario -->
    <script>
      const stored = localStorage.getItem("userName");
      document.getElementById("user-name").textContent = stored || "Jorge";
    </script>
  </body>
</html>
